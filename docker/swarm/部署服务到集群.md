##部署服务到swarm集群
<hr>
>创建服务

```text
语法和docker run 一样

docker service create  --replicas 1 --name helloworld -p 8081:80  nginx
参数说明：
replicas 每个节点生产的任务数(可以起到负载均衡效果)



docker service create  --replicas 1 --name helloworld -p 8081:80  111.231.253.204:5000/nginx:v1
```





<br>
<hr>

>查看服务

```text

docker service  ls 

查看服务节点分布情况：
docker service  ps nginx
[root@manager01 ~]# docker service ps helloworld
ID             NAME           IMAGE          NODE        DESIRED STATE   CURRENT STATE            ERROR     PORTS
z7je9757ja88   helloworld.1   nginx:latest   worker01    Running         Running 17 minutes ago             
taib6rj9va3e   helloworld.2   nginx:latest   worker02    Running         Running 8 minutes ago              
izgzsn3lc060   helloworld.3   nginx:latest   manager01   Running         Running 8 minutes ago    

说明：服务分别部署在节点(worker01,worker02,manager01)上


详细信息
docker service inspect --pretty helloworld
```
<br>
<hr>
>扩展集群服务

```text
docker service scale helloworld=2
说明：将helloworld 服务分配到 集群节点
当数值大于节点数时同在相同的节点重复创建(本机实现负载均衡)

```

<hr>

```text
部署成功后可以到对应节点(node) 服务器查看
docker ps -a
docker ps 
```
<br>
<hr>
>删除服务

```text
docker service rm helloworld


删除后使用 docker service  ps nginx 查看服务就不存在了
```
